{% extends 'layout.html' %}

{% block more_css %}
<style>
 #bf-rlsp-animation {
  background-color: rgb(255, 255, 255);

 }

#bf-rlsp-animation { width: 600px;
                     height: 600px;
                     background-color: rgb( 255, 255, 255); }
</style>
{% endblock %}

{% block body %}
{% include 'slide-nav.html' %}

<div class="row">
 <div class="col-md-10 jumbotron">
  <h1>{{ current.label }}</h1>
  <p class="lead">{{ current.description }}</p>
 </div>
 <div class="col-md-2">
  <a class="btn btn-primary btn-lg"
          data-toggle="modal"
          href="#badge-quiz-dlg">Badge Quiz!</a>

 </div>
</div>


<div class="row">
 <div class="col-md-12">
  <div class="btn-group">
   <div class="btn-group">
     <button type="button" 
             class="btn btn-default dropdown-toggle"
             data-toggle="dropdown">
      Display <span class="caret"></span>
     </button> 
      <ul class="dropdown-menu" role="menu">
        <li><a href="#" data-bind="click: displaySolo">Solo mode</a></li>
        <li><a href="#" data-bind="click: displayCooperative">Cooperative Datastores</a></li>
        <li><a href="#" data-bind="click: displayFuture">Future Plans</a></li>
        <li class="divider"></li>
        <li><a href="#" data-bind="click: displayAll">Run all</a></li>
      </ul>
     </button>
   </div> 
  </div>
  <p></p>
  <div id="bf-rlsp-animation"></div>
 </div>

</div>

{# START Badge Quiz Modal #}
<div class="modal fade" id="badge-quiz-dlg">
  {# START modal-dialog #}
  <div class="modal-dialog">
   {# START modal-content #}
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">{{ current.label }} Badge Quiz </h4>
      </div>
      <div class="modal-body">
        <form id="badge-quiz">
        <input type="hidden" name="slide" value="{{ current.name }}">     
        {# START Q1 #}
        <div class="form-group">
         <label>Question One </label> 
         <div data-bind="foreach: questionOneItems">
       <div class="checkbox">
        <label>
         <input type="checkbox" name="q1" data-bind="attr: { value:id }, 
                                                     checked: selected">
         <span data-bind="text: name"></span>
        </label>
       </div> 
        </div>
        {# END Q1 #}
        </div>
       </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    {# END modal-content #}
    </div>
  {# END modal-dialog #}
  </div>
{# END Badge Quiz Modal #}
</div>

<div class
{% endblock %}

{% block more_js %}
<script src="{{ url_for('static', filename='js/svg.min.js') }}"></script>
<script>
 var svgDraw = SVG('bf-rlsp-animation');

 var rlspCooperative = function() {
  var title = svgDraw.text("Developing a Cooperative Library Services Platfrom").font({ size: 24 }); 
  title.move(10,20);
  title.animate().move(100, 20);

 }

 var rlspFuture = function() {
  var title = svgDraw.text("The Future of the Redis Library Services Platform").font({ size: 24 }); 
  title.move(10,20);
  title.animate().move(100, 20);

 }

 var rlspSolo = function() {
  var title = svgDraw.text("Running RLSP in Solo Mode").font({ size: 24 }); 
  title.move(10, 20);
  title.animate().move(130, 20);
  var docket = svgDraw.group();
  var docketImg = svgDraw.image("{{ url_for('static', filename='img/docker-top-logo.png') }}");
  docketImg.click(function() {
   alert("Display Docket");
  });
  docket.add(docketImg);
  docket.animate().move(10, 250).after(
   function() {
     var docket_desc_grp = svgDraw.group();
     var docket_title = svgDraw.text("As a Docker Container").font({ size: 20 }).fill({color:' rgb(0,0,220)'});
     docket_desc_grp.add(docket_title);
     var docket_desc = svgDraw.text(function(add) {
      add.tspan("Download the Redis Library Services Platform Docker container").newLine(),
      add.tspan("Run the RLSP").newLine()
     }); 
     docket_desc.y(30);
     docket_desc_grp.add(docket_desc);
     docket_desc_grp.hide();
     docket_desc_grp.move(110, 245);
     docket_desc_grp.show();
  });
  
 }

 var BIBFRAMEandRLSPViewModal = function() { 
  var self = this;

   {% include 'quiz.js' %}

  self.questionOneItems = [
    {id: 1, name: "BIBFRAME is natively supported in the Redis Library Services Platform", selected: true},
    {id: 2, name: "Redis Library Services Platform is NOT open source", selected: false} 
  ];

  self.displayAll = function() { 
    svgDraw.clear();
    rlspSolo();
    rlspCooperative();
    rlspFuture();
  }

  self.displayCooperative = function() {
    svgDraw.clear();
    rlspCooperative();
  }

  self.displayFuture = function() {
    svgDraw.clear();
    rlspFuture();
  }

  self.displaySolo = function() {
    svgDraw.clear();
    rlspSolo();
  }
 }
 ko.applyBindings(new BIBFRAMEandRLSPViewModal());
</script>
{% endblock %}
